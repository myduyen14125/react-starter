{"ast":null,"code":"var _jsxFileName = \"/home/yuu/Documents/Git/Training/react-starter/src/product/product-module.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { Cart } from \"./cart\";\nimport { ProductForm } from \"./product-form\";\nimport { Products } from \"./products\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProductModule = props => {\n  _s();\n\n  var _props$initialProduct;\n\n  const [products, setProducts] = useState((_props$initialProduct = props.initialProducts) !== null && _props$initialProduct !== void 0 ? _props$initialProduct : []);\n  const [cart, setCart] = useState([]);\n  const [updatingProduct, setUpdatingProduct] = useState(null);\n\n  const onProductUpdateClick = product => {\n    console.log(\"update this product\", product);\n    setUpdatingProduct(product);\n  };\n\n  const onProductDeleteClick = product => {\n    const wantToDeleted = window.confirm(\"Do you want to delete?\");\n\n    if (wantToDeleted) {\n      setProducts(products.filter(p => {\n        return p.id !== product.id;\n      }));\n    }\n  };\n\n  const onProductSubmit = product => {\n    console.log(product);\n\n    if (updatingProduct) {\n      setProducts(products.map(p => {\n        if (p.id === product.id) {\n          return { ...p,\n            ...product\n          };\n        }\n\n        return p;\n      }));\n      setUpdatingProduct(null);\n    } else {\n      setProducts([product, ...products]);\n    }\n  };\n\n  const onProductFormCancel = () => {\n    setUpdatingProduct(null);\n  };\n\n  const onAddToCart = product => {\n    var _cart$find, _updatedProductInCart;\n\n    const existedProductsInCart = cart.filter(p => {\n      return product.id !== p.id;\n    });\n    const updatedProductInCart = (_cart$find = cart.find(p => {\n      return product.id === p.id;\n    })) !== null && _cart$find !== void 0 ? _cart$find : product;\n    const productWithQuantity = { ...updatedProductInCart,\n      quantity: ((_updatedProductInCart = updatedProductInCart.quantity) !== null && _updatedProductInCart !== void 0 ? _updatedProductInCart : 0) + 1\n    };\n    setCart([productWithQuantity, ...existedProductsInCart]);\n  };\n\n  const onRemoveFromCart = product => {\n    setCart(cart.filter(p => {\n      return p.id !== product.id;\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(ProductForm, {\n      onSubmit: onProductSubmit,\n      updatingProduct: updatingProduct,\n      onCancel: onProductFormCancel\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Cart, {\n      data: cart,\n      onRemoveFromCart: onRemoveFromCart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Products, {\n      data: products,\n      onUpdate: onProductUpdateClick,\n      onDelete: onProductDeleteClick,\n      onAddToCart: onAddToCart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductModule, \"tLyIfL3SToytSRpOYSJfBX5epAk=\");\n\n_c = ProductModule;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductModule\");","map":{"version":3,"names":["useState","Cart","ProductForm","Products","ProductModule","props","products","setProducts","initialProducts","cart","setCart","updatingProduct","setUpdatingProduct","onProductUpdateClick","product","console","log","onProductDeleteClick","wantToDeleted","window","confirm","filter","p","id","onProductSubmit","map","onProductFormCancel","onAddToCart","existedProductsInCart","updatedProductInCart","find","productWithQuantity","quantity","onRemoveFromCart"],"sources":["/home/yuu/Documents/Git/Training/react-starter/src/product/product-module.js"],"sourcesContent":["import { useState } from \"react\";\nimport { Cart } from \"./cart\";\nimport { ProductForm } from \"./product-form\";\nimport { Products } from \"./products\";\n\nexport const ProductModule = (props) => {\n  const [products, setProducts] = useState(props.initialProducts ?? []);\n  const [cart, setCart] = useState([]);\n\n  const [updatingProduct, setUpdatingProduct] = useState(null);\n\n  const onProductUpdateClick = (product) => {\n    console.log(\"update this product\", product);\n    setUpdatingProduct(product);\n  };\n\n  const onProductDeleteClick = (product) => {\n    const wantToDeleted = window.confirm(\"Do you want to delete?\");\n    if (wantToDeleted) {\n      setProducts(\n        products.filter((p) => {\n          return p.id !== product.id;\n        })\n      );\n    }\n  };\n\n  const onProductSubmit = (product) => {\n    console.log(product);\n    if (updatingProduct) {\n      setProducts(\n        products.map((p) => {\n          if (p.id === product.id) {\n            return { ...p, ...product };\n          }\n          return p;\n        })\n      );\n\n      setUpdatingProduct(null);\n    } else {\n      setProducts([product, ...products]);\n    }\n  };\n\n  const onProductFormCancel = () => {\n    setUpdatingProduct(null);\n  };\n\n  const onAddToCart = (product) => {\n    const existedProductsInCart = cart.filter((p) => {\n      return product.id !== p.id;\n    });\n\n    const updatedProductInCart =\n      cart.find((p) => {\n        return product.id === p.id;\n      }) ?? product;\n\n    const productWithQuantity = {\n      ...updatedProductInCart,\n      quantity: (updatedProductInCart.quantity ?? 0) + 1,\n    };\n    setCart([productWithQuantity, ...existedProductsInCart]);\n  };\n\n  const onRemoveFromCart = (product) => {\n    setCart(\n      cart.filter((p) => {\n        return p.id !== product.id;\n      })\n    );\n  };\n\n  return (\n    <div className=\"App\">\n      <ProductForm\n        onSubmit={onProductSubmit}\n        updatingProduct={updatingProduct}\n        onCancel={onProductFormCancel}\n      ></ProductForm>\n      <Cart data={cart} onRemoveFromCart={onRemoveFromCart}></Cart>\n      <Products\n        data={products}\n        onUpdate={onProductUpdateClick}\n        onDelete={onProductDeleteClick}\n        onAddToCart={onAddToCart}\n      ></Products>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}